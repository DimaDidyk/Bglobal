<section id="fly-form" class="gray-background" #FlyForm>
	<div class="container">
		<h1>לאן טסים?  </h1>
		<h3 (click)="getValues(countries)">אנא בחרו את היעד המבוקש ותאריכי טיסה</h3>
		
		<form #flyForm="ngForm" (ngSubmit)="onSubmit(flyForm)">

			<div *ngFor="let countryNameSelect of CountryIdName">
				<div class="row">
					<div class="col-sm-12">
						<mat-form-field class="example-full-width">
						    <input type="text" 
						    placeholder="בחרו את העיד  :"
						    name="{{ countryNameSelect['nameSalect'] }}" 
						    [ngModel]="getObjectValue(flyFormStor, countryNameSelect['nameSalect'])"
						    aria-label="Number" 
						    matInput 
						    [matAutocomplete]="auto">
						    <mat-autocomplete #auto="matAutocomplete"><!-- [displayWith]="displayFn" -->
						        <mat-option value="{{ country }}" 
						    	*ngFor="let country of getNamesCountryArray() 
						    	| searchAddress:getObjectValue(flyForm.value, countryNameSelect['nameSalect'])" >
						    		{{ country }}
						    	</mat-option>
						    </mat-autocomplete>
						</mat-form-field>
					</div>
				</div>
			</div>
			
			<!-- date inputs -->
			<div class="row inputs-date-fly-form">
				<div class="col-sm-8  col-xs-12 inputs-load-wrap">
					<div class="row">
						<div class="col-sm-6 col-xs-12">
							<mat-form-field >
								<input matInput 
								[matDatepicker]="picker2"
								[min]="flyForm.value.dateLanding"
								placeholder="בחרו תאריך המראה  :"
								name="dateAppearance"
								[ngModel]="flyFormStor.dateLanding">
								<mat-datepicker-toggle #matTfse (click)="clickPick()"
								matSuffix [for]="picker2"></mat-datepicker-toggle>
								<mat-datepicker touchUi="true" #picker2 ></mat-datepicker>
							</mat-form-field>
						</div>

						<div class="col-sm-6 col-xs-12">
							<mat-form-field>
								<input matInput 
								 [min]="minDate" 
								 [max]="flyForm.value.dateAppearance"
								 [matDatepicker]="picker1"
								 placeholder="בחרו תאריך המראה  :"
								 name="dateLanding"
								 [ngModel]="flyFormStor.dateAppearance">
								<mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
								<mat-datepicker touchUi="true" #picker1></mat-datepicker>
							</mat-form-field>
						</div>
					</div>
				</div>
			</div><!-- #date inputs -->
			

			<div class="row inputs-date-fly-form">
				<div class="col-sm-4 col-xs-12 button-load-inputs">
					<button mat-button class="bg-button" 
					[disabled]="!flyForm.valid"
					(click)="isShow='show'" (click)="isHide='hide'" (click)="scrollAnimate(appofferswrap)">!יאללה ממריאים  </button>
				</div>
			</div>
			
			<!-- add new select button -->
			<div id="add" 
			(click)="addCountryNameInputs()" 
			*ngIf="index < 1">נוסעים ליות מיעד אחד?  הוסף פרטי טיסה נוספת  <span>+</span>
			</div>

		</form>
	</div>
</section>

<!-- <pre>{{ flyForm.value | json }}</pre> -->
<!-- <pre>{{ getNamesCountryArray() | json }}</pre> -->

<div [@toggleHeight]="isShow" #appofferswrap>
	<app-offers [flyFormValue]="flyForm.value"></app-offers>
</div>

<div [@toggleHeight]="isHide">
	<app-promotion [FlyForm]="FlyForm"></app-promotion>
</div>
