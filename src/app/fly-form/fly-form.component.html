<!-- <pre>{{ countries | json }}</pre> -->
<!-- <pre>{{ countries['Name'] | json }}</pre> -->


<section id="fly-form" class="gray-background">
	<div class="container">
		<h1>לאן טסים?</h1>
		<h3 (click)="getValues(countries)">אנא בחרו את היעד המבוקש ותאריכי טיסה</h3>
		
		<form #flyForm="ngForm" (ngSubmit)="onSubmit(flyForm)">

	<!-- 	  <mat-form-field class="example-full-width">
		    <input type="text" placeholder="Pick one" aria-label="Number" matInput 
		    name="myControl" ngModel
		     [matAutocomplete]="auto">
		    <mat-autocomplete #auto="matAutocomplete">
		      <mat-option *ngFor="let option of options | searchAddress:flyForm.value.myControl " [value]="option">
		        {{ option }}
		      </mat-option>
		    </mat-autocomplete>
		  </mat-form-field> באהמס    -->


			<div *ngFor="let newDate of DateId">

				<div class="row">
					<div class="col-sm-12">
						<mat-form-field class="example-full-width">
						    <input type="text" 
						    placeholder=":בחרו את העיד  "
						    name="{{ newDate['nameSalect'] }}" ngModel
						    aria-label="Number" 
						    matInput 
						    [matAutocomplete]="auto">
						    <mat-autocomplete #auto="matAutocomplete" >
						        <mat-option value="{{ country }}" 
						    	*ngFor="let country of getNamesCountryArray() | searchAddress:getObjectValue(flyForm.value, newDate['nameSalect'])" >
						    		{{ country }}
						    	</mat-option>
						    </mat-autocomplete>
						</mat-form-field>
					</div>
				</div>
				
				<div class="row inputs-date-fly-form">
					<div class="col-sm-8  col-xs-12 inputs-load-wrap">
						<div class="row">
							<div class="col-sm-6 col-xs-12">
								<mat-form-field>
									<input matInput
									[matDatepicker]="picker2"
									[min]="getObjectValue(flyForm.value, newDate['nameDate1'])"
									placeholder=":בחרו תאריך המראה  "
									name="{{ newDate['nameDate2'] }}"
									ngModel>
									<mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
									<mat-datepicker touchUi="true" #picker2></mat-datepicker>
								</mat-form-field>
							</div>

							<div class="col-sm-6 col-xs-12">
								<mat-form-field>
									<input matInput 
									 [min]="minDate" 
									 [max]="getObjectValue(flyForm.value, newDate['nameDate2'])"
									 [matDatepicker]="picker1"
									 placeholder=":בחרו תאריך המראה  "
									 name="{{ newDate['nameDate1'] }}"
									 ngModel>
									<mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
									<mat-datepicker touchUi="true" #picker1></mat-datepicker>
								</mat-form-field>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row inputs-date-fly-form">
				<div class="col-sm-4 col-xs-12 button-load-inputs">
					<button mat-button class="bg-button" 
					[disabled]="!flyForm.valid"
					(click)="isShow='show'" (click)="isHide='hide'" (click)="scrollAnimate(appofferswrap)">!יאללה ממריאים</button>
				</div>
			</div>

			<div id="add" 
			(click)="addDateInputs()" 
			*ngIf="index < 1">נוסעים ליות מיעד אחד?  הוסף פרטי טיסה נוספת <span>+</span>
			</div>

		</form>
	</div>
</section>

<pre>{{ flyForm.value | json }}</pre>
<pre>{{ getNamesCountryArray() | json }}</pre>

<div [@toggleHeight]="isShow" #appofferswrap>
	<app-offers></app-offers>
</div>

<div [@toggleHeight]="isHide">
	<app-promotion></app-promotion>
</div>


